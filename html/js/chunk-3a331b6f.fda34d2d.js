(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3a331b6f"],{"0c17":function(t,e,s){},c635:function(t,e,s){"use strict";var i=s("0c17"),a=s.n(i);a.a},fddd:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:"playlist-container "+(t.show&&"show")},[s("div",{staticClass:"right-select-tab-list"},t._l(t.tabs,(function(e,i){return e.hide!==t.hash?s("div",{key:e.icon,class:"tab-item-"+i+" c-"+e.color+" "+(t.selected===e.key&&"selected"),on:{click:function(s){t.selected=e.key}}},[s("i",{class:"iconfont icon-"+e.icon}),t._v("\n        "+t._s(e.val)+"\n      ")]):t._e()})),0),s("div",{staticClass:"playlist-list hide-scroll"},[t.user.userId||"playlist"!==t.hash||t.$route.query.id||"163"!==t.selected?t._e():s("div",{staticClass:"text-center fc_fff ft_20",staticStyle:{"padding-top":"100px",opacity:"0.8","letter-spacing":"2px"}},[t._v("\n        登录后可以查看个人歌单\n      ")]),"playlist"===t.hash&&"qq"===t.selected?s("div",{staticClass:"input-qq mb_20"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.inputQQ,expression:"inputQQ"}],attrs:{type:"text",placeholder:"输入QQ号吧"},domProps:{value:t.inputQQ},on:{input:function(e){e.target.composing||(t.inputQQ=e.target.value)}}}),t.inputQQ!==t.qqId?s("div",{staticClass:"update-btn",on:{click:t.updateQQNum}},[t._v("更新")]):t._e()]):t._e(),t.qqId||"playlist"!==t.hash||"qq"!==t.selected?t._e():s("div",{staticClass:"text-center fc_fff ft_20",staticStyle:{"padding-top":"100px",opacity:"0.8","letter-spacing":"2px"}},[t._v("\n        输入 QQ 号可查看个人歌单\n      ")]),t.allList[t.selected+"_daily"]&&!t.$route.query.id?s("div",{class:"playlist-item "+(t.playingListId===t.selected+"_daily"&&"playing"),on:{click:function(e){return t.goTo(t.selected+"_daily",t.selected)}}},[s("div",{staticClass:"list-img",staticStyle:{border:"1px solid #fff5","text-align":"center"}},[t._v("\n          "+t._s((new Date).getDate())+"\n        ")]),s("span",{staticClass:"list-name"},[t._v("每日推荐")]),s("span",{staticClass:"list-count"},[t._v(t._s(t.allList[t.selected+"_daily"].length))]),t.playingListId===t.selected+"_daily"&&t.isPlaying?s("div",{staticClass:"playing-item-bg"},t._l(new Array(100),(function(t,e){return s("div",{key:"bg-item-"+e,class:"playing-bg-"+e},[s("div",{staticClass:"bg-item-inside"})])})),0):t._e()]):t._e(),t._l(t.pagePlayList,(function(e){return s("div",{key:"playlist-"+e.id,class:"playlist-item "+(t.playingListId===e.listId&&"playing"),on:{click:function(s){return t.goTo(e.id)}}},[t.playingListId==e.listId&&t.isPlaying?s("div",{staticClass:"playing-item-bg"},t._l(new Array(100),(function(t,e){return s("div",{key:"bg-item-"+e,class:"playing-bg-"+e},[s("div",{staticClass:"bg-item-inside"})])})),0):t._e(),s("img",{staticClass:"list-bg-img",attrs:{src:e.cover+"?param=50y50"}}),s("img",{staticClass:"list-img",attrs:{src:e.cover+"?param=200y200"}}),s("span",{staticClass:"list-name"},[t._v(t._s(e.name))]),s("span",{staticClass:"list-count"},[t._v(t._s(e.trackCount))]),s("div",{staticClass:"bottom-text"},["163"===t.selected&&t.user.userId&&t.userList["163"].favListId===e.listId?s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"心动模式",placement:"top"}},[s("i",{class:"iconfont icon-heart heart-btn "+(t.heartMode&&"hearting"),on:{click:function(s){return t.toHeartMode(e.listId)}}})]):t._e(),t.userList[t.selected]&&!t.userList[t.selected].mine[e.listId]?s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.userList[t.selected].sub[e.listId]?"已收藏":"收藏",placement:"top"}},[s("i",{class:"collect-btn iconfont icon-"+(t.userList[t.selected].sub[e.listId]?"collected":"collect"),on:{click:function(s){return t.collectPlaylist(e)}}})]):t._e(),e.creator&&e.creator.nick?s("span",{staticClass:"list-creator"},[t._v("\n          By: "),s("a",[t._v(t._s(e.creator.nick))]),e.playCount?s("span",{staticClass:"pl_20"},[s("i",{staticClass:"iconfont icon-yinyue"}),t._v(": "+t._s(t.numToStr(e.playCount)))]):t._e()]):t._e()],1)])}))],2)])},a=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("28a5"),s("a481"),s("c5f6"),s("7514"),s("96cf"),s("3b8d")),c=s("bd86"),r=s("2f62"),l=s("0828"),o=s("ceb6"),u=s("aa67");function d(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function p(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?d(Object(s),!0).forEach((function(e){Object(c["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):d(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var h={name:"PlayList",data:function(){return{show:!1,hash:"",pagePlayList:[],tabs:[{icon:"163",key:"163",color:"red",val:"网易云"},{icon:"qq",key:"qq",color:"green",val:"企鹅"}],selected:Object(l["b"])("from")||u["a"].get("playlist_from")||"163",inputQQ:u["a"].get("qqId"),qqId:u["a"].get("qqId")}},computed:p({},Object(r["b"])({userList:"getUserList",allList:"getAllList",recommendList:"getRecommendList",user:"getUser",playingListId:"getPlayingListId",heartMode:"isHearMode",allSongs:"getAllSongs",isPlaying:"isPlaying",isPersonFM:"isPersonFM",qUserList:"getQUserList"})),watch:{$route:function(){this.hashChange()},selected:function(t){u["a"].set("playlist_from",t),this.hashChange()},recommendList:function(){this.hashChange()},userList:function(t){var e=this.selected;t[e]&&!Object(l["b"])("id")&&(this.pagePlayList=t[e].list.map((function(s){return t[e].obj[s]})))}},created:function(){var t=this;this.hashChange(),setTimeout((function(){return t.show=!0})),this.selected=Object(l["b"])("from")||u["a"].get("playlist_from")||"163",document.location.hash.indexOf("playlist")>-1&&"migu"===this.selected&&(this.selected="163")},destroyed:function(){this.show=!1},methods:{hashChange:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,s,i,a,n,c,r,u,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=["playlist","recommend"],this.hash=e.find((function(t){return document.location.hash.indexOf(t)>-1})),s=this.selected,i=this.hash,a=this.user,n=this.inputQQ,this.pagePlayList=[],r=Object(l["b"])("id")||{163:a.userId,qq:n}[s],t.t0=i,t.next="recommend"===t.t0?8:"playlist"===t.t0?13:21;break;case 8:return t.next=10,Object(o["c"])({api:"RECOMMEND_PLAYLIST",data:{login:Number(Boolean(a.userId)),_p:s}});case 10:return c=t.sent,this.pagePlayList=c.data,t.abrupt("break",21);case 13:if("migu"!==s){t.next=15;break}return t.abrupt("return",this.selected="163");case 15:if(!r){t.next=21;break}return t.next=18,Object(o["j"])(r,this.selected);case 18:u=t.sent,d=u.list,this.pagePlayList=d;case 21:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),goTo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected;window.location="#/playlist/detail?id=".concat(t,"&from=").concat(e)},toHeartMode:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var s,i,a,n,c,r,l,u,d,p,h;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(window.event.stopPropagation(),s=this.userList,i=this.allList,this.allSongs,a=this.user,a.userId){t.next=4;break}return t.abrupt("return",this.$message.warning("登录后才可以开启心动模式"));case 4:return n=s["163"].favListId,c=(i[n]||[]).length>0?i[n]:i["163_daily"],r=c[Math.floor(Math.random(c.length))].replace("163_",""),l=e.split("_")[1],t.next=10,Object(o["c"])({api:"GET_HEART_MODE",data:{pid:l,id:r,_p:"163"}});case 10:return u=t.sent,d=u.data,p=this.$store.dispatch,t.next=15,Object(o["l"])(d);case 15:h=t.sent,p("updatePlayNow",this.allSongs[h[0]]),p("updatePlayingList",{list:h,listId:e,heart:!0}),p("updatePlayingStatus",!0),this.$message.success("心动模式启动～");case 20:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),playPersonFM:function(){var t=this,e=this.$store.dispatch,s=this.isPersonFM,i=this.allSongs,a=function s(a){t.allSongs[a]?e("updatePlayNow",i[a]):setTimeout((function(){return s(a)}),100)};s||Object(o["h"])().then((function(t){var s=t.map((function(t){return t.id}));e("setPersonFM",s),a(s[0])}))},updateQQNum:function(){var t=this.inputQQ;this.qqId=t,u["a"].set("qqId",t),this.hashChange()},numToStr:l["d"],collectPlaylist:o["b"]}},g=h,f=(s("c635"),s("2877")),y=Object(f["a"])(g,i,a,!1,null,"9aecb992",null);e["default"]=y.exports}}]);
//# sourceMappingURL=chunk-3a331b6f.fda34d2d.js.map