(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-40bcd0de"],{"93ff":function(e,t,n){"use strict";var r=n("b58f"),i=n.n(r);i.a},b58f:function(e,t,n){},e204:function(e,t,n){"use strict";var r=n("e46b"),i=n("013f")(6),c="findIndex",o=!0;c in[]&&Array(1)[c]((function(){o=!1})),r(r.P+r.F*o,"Array",{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n("0e8b")(c)},fff8:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:"lyric-content-container "+(e.show&&"show")},[n("div",{class:"lyric-list-container "+(e.grab?"grabbing":""),on:{mousedown:function(t){return e.changeGrab(!0)},mouseup:function(t){return e.changeGrab(!1)},mouseleave:function(t){return e.changeGrab(!1)},mousemove:e.moveLyric}},[e.playNow.lyric?n("div",{staticClass:"lyric-list",style:"top: "+e.top+"px;"},e._l(e.playNow.lyric,(function(t,r){return n("div",{class:"lyric-item lyric-item-"+r+" "+(r===e.lyricIndex?"lyric-item-now":"")},[n("div",{domProps:{innerHTML:e._s(t.str||"")}}),t.trans?n("div",{domProps:{innerHTML:e._s(t.trans)}}):e._e()])})),0):e._e()]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.protect>0&&e.protect>=e.current-3e3||e.grab,expression:"protect > 0 && protect >= (current - 3000) || grab"}],staticClass:"play-line-center"},[n("hr"),n("div",{staticClass:"p-time-btn",on:{mouseover:function(t){return e.changeGrab(!0)},mouseleave:function(t){return e.changeGrab(!1)},click:e.playAtCenter}},[e._v("\n      "+e._s(e.formatTooltip(e.centerTime))+"\n      "),n("i",{staticClass:"iconfont icon-play"})])])])},i=[],c=(n("5ab2"),n("163d"),n("e204"),n("6d57"),n("e10e"),n("ce3c")),o=n("9f3a"),s=n("42e1");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){Object(c["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l={name:"Lyric",data:function(){return{lyricIndex:0,top:600,grab:!1,mouseY:0,mouseTop:0,mouseMove:0,protect:0,show:!1,centerTime:0,current:0}},computed:u({},Object(o["b"])({playNow:"getPlaying",percent:"getPlayingPercent"})),watch:{playNow:function(e){var t=e.lyricKeys,n=void 0===t?[]:t;this.protect=0,this.top=document.getElementsByClassName("lyric-content-container")[0].clientHeight/2-35,this.mouseTop=0,this.grab=!1,this.lyricIndex=n[0],this.mouseY=0},percent:function(){var e=this.playNow,t=e.lyric;if(t){var n=Object.keys(t),r=1e3*document.getElementById("m-player").currentTime,i=document.getElementsByClassName("lyric-content-container")[0].clientHeight,c=n.findIndex((function(e){return e-300>=r})),o=document.getElementsByClassName("lyric-item-now");this.current=r;var s=r;switch(c){case-1:s=n[n.length-1]||r;break;case 0:s=n[0];break;default:s=n[c-1]}this.lyricIndex=s,this.protect&&this.protect>=r-3e3||(this.protect=0,o&&o[0]&&!this.grab&&(this.top=i/2-o[0].offsetTop-35))}},top:function(e){var t=this,n=this.playNow,r=document.getElementsByClassName("lyric-content-container")[0];Object.keys(n.lyric||{}).forEach((function(n,i){var c=document.getElementsByClassName("lyric-item-".concat(n))[0];if(c){var o=c.offsetHeight,s=c.offsetTop,a=s+e-r.offsetHeight/2;a<0&&o+a>0&&(t.centerTime=Number(n/1e3))}}))}},created:function(){var e=this;setTimeout((function(){return e.show=!0}))},methods:{changeGrab:function(e){if(this.grab!==e){this.grab=e;var t=window.event,n=t.clientY;this.grab?(this.mouseY=n,this.mouseTop=this.top):(this.top+=this.mouseMove,this.mouseMove=0,this.protect=1e3*document.getElementById("m-player").currentTime)}},moveLyric:function(e){if(this.grab){var t=e||window.event,n=t.clientY;this.top=this.mouseTop+n-this.mouseY}},formatTooltip:function(e){return"".concat(Object(s["a"])(e/60,0,-1),":").concat(Object(s["a"])(e%60,0)<10?"0".concat(Object(s["a"])(e%60,0)):Object(s["a"])(e%60,0))},playAtCenter:function(){var e=this,t=document.getElementById("m-player");t.currentTime=this.centerTime,this.grab=!1,setTimeout((function(){return e.protect=0}),200)}}},m=l,f=(n("93ff"),n("9ca4")),p=Object(f["a"])(m,r,i,!1,null,null,null);t["default"]=p.exports}}]);
//# sourceMappingURL=chunk-40bcd0de.4fb3cc2a.js.map