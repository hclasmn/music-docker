(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ca0fd61c"],{"20d6":function(t,e,n){"use strict";var r=n("5ca1"),c=n("0a49")(6),i="findIndex",o=!0;i in[]&&Array(1)[i]((function(){o=!1})),r(r.P+r.F*o,"Array",{findIndex:function(t){return c(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(i)},"59e5":function(t,e,n){},"93ff":function(t,e,n){"use strict";var r=n("59e5"),c=n.n(r);c.a},fff8:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:"lyric-content-container "+(t.show&&"show")},[n("div",{class:"lyric-list-container "+(t.grab?"grabbing":""),on:{mousedown:function(e){return t.changeGrab(!0)},mouseup:function(e){return t.changeGrab(!1)},mouseleave:function(e){return t.changeGrab(!1)},mousemove:t.moveLyric}},[t.playNow.lyric?n("div",{staticClass:"lyric-list",style:"top: "+t.top+"px;"},t._l(t.playNow.lyric,(function(e,r){return n("div",{class:"lyric-item lyric-item-"+r+" "+(r===t.lyricIndex?"lyric-item-now":"")},[n("div",{domProps:{innerHTML:t._s(e.str||"")}}),e.trans?n("div",{domProps:{innerHTML:t._s(e.trans)}}):t._e()])})),0):t._e()]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.protect>0&&t.protect>=t.current-3e3||t.grab,expression:"protect > 0 && protect >= (current - 3000) || grab"}],staticClass:"play-line-center"},[n("hr"),n("div",{staticClass:"p-time-btn",on:{mouseover:function(e){return t.changeGrab(!0)},mouseleave:function(e){return t.changeGrab(!1)},click:t.playAtCenter}},[t._v("\n      "+t._s(t.formatTooltip(t.centerTime))+"\n      "),n("i",{staticClass:"iconfont icon-play"})])])])},c=[],i=(n("8e6e"),n("c5f6"),n("20d6"),n("ac6a"),n("456d"),n("bd86")),o=n("2f62"),s=n("42e1");function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){Object(i["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var l={name:"Lyric",data:function(){return{lyricIndex:0,top:600,grab:!1,mouseY:0,mouseTop:0,mouseMove:0,protect:0,show:!1,centerTime:0,current:0}},computed:u({},Object(o["b"])({playNow:"getPlaying",percent:"getPlayingPercent"})),watch:{playNow:function(t){var e=t.lyricKeys,n=void 0===e?[]:e;this.protect=0,this.top=document.getElementsByClassName("lyric-content-container")[0].clientHeight/2-35,this.mouseTop=0,this.grab=!1,this.lyricIndex=n[0],this.mouseY=0},percent:function(){var t=this.playNow,e=t.lyric;if(e){var n=Object.keys(e),r=1e3*document.getElementById("m-player").currentTime,c=document.getElementsByClassName("lyric-content-container")[0].clientHeight,i=n.findIndex((function(t){return t-300>=r})),o=document.getElementsByClassName("lyric-item-now");this.current=r;var s=r;switch(i){case-1:s=n[n.length-1]||r;break;case 0:s=n[0];break;default:s=n[i-1]}this.lyricIndex=s,this.protect&&this.protect>=r-3e3||(this.protect=0,o&&o[0]&&!this.grab&&(this.top=c/2-o[0].offsetTop-35))}},top:function(t){var e=this,n=this.playNow,r=document.getElementsByClassName("lyric-content-container")[0];Object.keys(n.lyric||{}).forEach((function(n,c){var i=document.getElementsByClassName("lyric-item-".concat(n))[0];if(i){var o=i.offsetHeight,s=i.offsetTop,a=s+t-r.offsetHeight/2;a<0&&o+a>0&&(e.centerTime=Number(n/1e3))}}))}},created:function(){var t=this;setTimeout((function(){return t.show=!0}))},methods:{changeGrab:function(t){if(this.grab!==t){this.grab=t;var e=window.event,n=e.clientY;this.grab?(this.mouseY=n,this.mouseTop=this.top):(this.top+=this.mouseMove,this.mouseMove=0,this.protect=1e3*document.getElementById("m-player").currentTime)}},moveLyric:function(t){if(this.grab){var e=t||window.event,n=e.clientY;this.top=this.mouseTop+n-this.mouseY}},formatTooltip:function(t){return"".concat(Object(s["a"])(t/60,0,-1),":").concat(Object(s["a"])(t%60,0)<10?"0".concat(Object(s["a"])(t%60,0)):Object(s["a"])(t%60,0))},playAtCenter:function(){var t=this,e=document.getElementById("m-player");e.currentTime=this.centerTime,this.grab=!1,setTimeout((function(){return t.protect=0}),200)}}},m=l,p=(n("93ff"),n("2877")),f=Object(p["a"])(m,r,c,!1,null,null,null);e["default"]=f.exports}}]);
//# sourceMappingURL=chunk-ca0fd61c.da98258a.js.map